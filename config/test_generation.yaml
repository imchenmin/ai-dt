# Test Generation Configuration
# This file configures test generation parameters for different projects and scenarios

# Default configuration for all projects
defaults:
  llm_provider: "deepseek"
  model: "deepseek-coder"
  max_tokens: 2500
  temperature: 0.3
  output_dir: "./experiment/generated_tests"
  
  # Function filtering options
  filter:
    skip_std_lib: true
    skip_compiler_builtins: true
    skip_operators: true
    skip_special_functions: true
    custom_include_patterns: []
    custom_exclude_patterns: []

# Project-specific configurations
projects:
  # Simple C project
  simple_c:
    path: "test_projects/c"
    comp_db: "test_projects/c/compile_commands.json"
    description: "Simple C math utilities project"
    
    # Function-specific settings
    functions:
      add:
        priority: 1
        test_cases: 5
      subtract:
        priority: 1  
        test_cases: 5
      multiply:
        priority: 1
        test_cases: 5
      divide:
        priority: 2  # Higher priority due to error handling
        test_cases: 8  # More test cases for error scenarios

  # Complex C++ project
  complex_example:
    path: "test_projects/complex_example"
    comp_db: "test_projects/complex_example/compile_commands.json"
    description: "Complex C++ math library with templates and exceptions"
    
    # Custom output directory for this project
    output_dir: "./generated_tests_complex"
    
    # Function-specific settings
    functions:
      calculateCircleArea:
        priority: 1
        test_cases: 10
        focus: ["boundary_values", "exception_handling", "precision"]
      calculateSphereVolume:
        priority: 1
        test_cases: 10
        focus: ["boundary_values", "exception_handling", "precision"]
      allocateDoubleArray:
        priority: 2
        test_cases: 6
        focus: ["memory_management", "null_cases"]
      freeDoubleArray:
        priority: 2
        test_cases: 4
        focus: ["memory_management", "null_safety"]
      getLastMathError:
        priority: 3
        test_cases: 3
        focus: ["error_state"]
      clearMathError:
        priority: 3
        test_cases: 3
        focus: ["state_management"]

# LLM provider configurations
llm_providers:
  deepseek:
    api_key_env: "DEEPSEEK_API_KEY"
    base_url: "https://api.deepseek.com/v1"
    models:
      - "deepseek-chat"
      - "deepseek-coder"
    default_model: "deepseek-coder"
    
  openai:
    api_key_env: "OPENAI_API_KEY"
    base_url: "https://api.openai.com/v1"
    models:
      - "gpt-3.5-turbo"
      - "gpt-4"
      - "gpt-4-turbo"
    default_model: "gpt-3.5-turbo"
    
  anthropic:
    api_key_env: "ANTHROPIC_API_KEY"
    base_url: "https://api.anthropic.com/v1"
    models:
      - "claude-3-opus"
      - "claude-3-sonnet" 
      - "claude-3-haiku"
    default_model: "claude-3-sonnet"

# Test generation templates
test_templates:
  c:
    framework: "google_test"
    includes:
      - "#include <gtest/gtest.h>"
      - "#include <mockcpp/mockcpp.hpp>"
    setup: |
      // Test setup code for C functions
    teardown: |
      // Test teardown code
      
  cpp:
    framework: "google_test"  
    includes:
      - "#include <gtest/gtest.h>"
      - "#include <mockcpp/mockcpp.hpp>"
      - "#include <cmath>"
      - "#include <stdexcept>"
    setup: |
      // Test setup code for C++ functions
    teardown: |
      // Test teardown code

# Execution profiles
profiles:
  quick:
    description: "Quick test generation with minimal coverage"
    max_functions: 3
    test_cases_per_function: 3
    timeout: 300  # 5 minutes
    
  comprehensive:
    description: "Comprehensive test generation with full coverage"
    max_functions: 20
    test_cases_per_function: 10
    timeout: 1800  # 30 minutes
    
  custom:
    description: "Custom configuration for specific needs"
    max_functions: null  # No limit
    test_cases_per_function: null  # Use function-specific settings
    timeout: 3600  # 60 minutes